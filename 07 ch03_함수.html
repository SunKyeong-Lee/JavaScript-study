<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>07 ch03_함수</title>

    <script>
        // 명시적(선언적) 함수
        function hi() {
            document.write("<p>Hi</p>");
        }

        // 실습 1 : 명시적 함수 - 매개변수 있음
        function introName(name) {
            document.write(`<p>안녕하세요. ${name}입니다. 반갑습니다.</p>`);
        }
        
        // 실습 2 : 명시적 함수 - 매개변수/리턴 있음
        function introNameReturn(name) {
            return `<p>안녕하세요. ${name}입니다. 반갑습니다.</p>`;
        }
        
        // 실습 3 : 명시적 함수 - 매개변수/실행내용/리턴 있음
        function introNameReturnLog(name) {
            console.log("함수가 출력되었습니다");
            return `<p>안녕하세요. ${name}입니다. 반갑습니다.</p>`;
        }

        // 실습 4 : 명시적 함수 - 예 : Random.Math() > 리턴을 통해서 랜덤값 넘겨줌
        // 사각형의 넓이를 구하고, 그 넓이 값을 반환
        function area(num1, num2) {
            let a =  num1 * num2;  // 사각형의 넓이를 구함
            return a;  // 구한 값을 리턴
        }

        // 실습 5 : 명시적 함수 - 매개변수(숫자형이 들어간 배열)
        // 배열로 받은 값을 모두 더하여 평균값 구하고, 평균값 반환하기
        // 매개변수에는 여러가지 자료형이 들어갈 수 있다.
        function avrg(array) {
            // array가 배열이 아니라면 0값을 return 하기
            if ( !Array.isArray(array) ) {
                return 0;
                // return을 사용하면 함수가 종료
                // 아래에 들어가 있는 명령(함수)는 실행되지 않는다.
                document.write("<p>함수 종료</p>");  // 실행 x
            }
            // 배열의 모든 값을 더하고 평균값 구하기
            let sum = 0;
            let avrg = 0;
            for (number of array) {
                sum += number;
            }
            avrg = sum/array.length;
            return avrg;
        }

        // 함수의 기본 원칙
        // 동일한 이름의 함수가 있을 때, 매개변수가 많은 함수만 출력된다.
        // 이름이 겹치지 않게 주의
        function introName(name, address) {
            document.write(`${name}입니다. ${address}에 살고 있습니다`);
        }

        // 실습 6
        // 인수가 부족하게 들어왔을 경우 매개변수의 값은 undefined이 된다.
        // undefined가 들어왔을 때 if문을 이용해서 미리 지정된 값(0)을 넣기
        // 두 수의 값을 더하고, 더한 값을 반환하는 함수
        function add(num1, num2) {
            if (num1 == undefined) {
                num1 = 0;
            }
            if (num2 == undefined) {
                num2 = 0;
            }
            let sum = num1 + num2;
            return sum;
        }

        // 기본값 매개변수 : 매개변수에 기본값을 할당해서 사용할 수 있다.
        // (값이 들어오면 그 값을 대체)
        function add2(num1=0, num2=0) {
            let sum = num1 + num2;
            return sum;
        }

        // 나머지 매개변수 : 배열 형태로 들어옴
        function allString(...words) {
            for (word of words) {
                document.write(word+"   ");
            }
            return words;
        }

        // 예제 - 나머지 매개변수
        // 첫번째 인수에서 두번째~마지막 인수까지를 뺀 후 그 결과를 반환
        function sub(firstNum, ...restArgs) {
            for (num of restArgs) {
                firstNum -= num;
            }
            return firstNum;
        }

        // arguments 객체 - 기본값과 나머지 매개변수를 사용하지 않을 때 사용
        function argument(a) {
            document.write(`<p>${a}</p>`);
            document.write(`<h3>${arguments[0]}</h3>`);
            for (arg of arguments) {
                document.write(`<li>${arg}</li>`);
            }
        }

        // 실습 7 : 인수로 받은 모든 숫자를 더하는 함수
        // arguments
        function addAll() {
            let sum = 0;
            for (arg of arguments) {
                sum += arg;
            }
            return sum;
        }

        // 나머지 매개변수
        function addAllRest(...nums) {
            let sum = 0;
            for (num of nums) {
                sum += num;
            }
            return sum;
        }
    </script>
</head>
<body>
    <h1>함수</h1>

    <script>
        // 함수 : function
        // 함수를 선언하는 방법
        function count(num) {
            // 매개변수를 통해서 값을 가져올 수 있다.
            for (let i=1; i<=num; i++) {
                document.write(i);
            }
            // return을 통해서 값을 내보내줄 수 있다.
            return num;
        }

        // 함수 호출 방법
        count(5);

        // 함수의 리턴값 콘솔에 출력하기
        console.log( count(3) );
        let returnNum = count(10);  // return 값 저장

        // 함수 작성 실습
        // "안녕하세요. 반갑습니다."를 html에 출력하는 함수 intro() 작성하기
        // 매개변수 x, 리턴 값 x
        function intro() {   // 함수 선언
            document.write("<p>안녕하세요. 반갑습니다.</p>")
        }
        intro();   // 함수 실행 - 함수 호출

        // <head>에 선언한 명시적 함수를 호출할 때는 <body>안의 <script>에서 호출
        hi();

        // 실습 1 : 명시적 함수 호출
        introName("홍길동");
        // 함수의 return 값을 사용하기 위해서, 변수에 할당하거나 값을 출력
        document.write(introNameReturn("성춘향"));  // 실습 2
        document.write(introNameReturnLog("흥부"));  // 실습 3
        document.write(area(5,10));  // 실습 4
        // 실습 5 : 인수값으로 배열 만들어 넣기
        let numArray = [30,60,40,60,20];
        document.write(`<p>평균값 : ${avrg(numArray)}</p>`);

        // 함수의 기본원칙
        // 초과된 인수는 무시 > 오류가 나지 않는다.
        intro("홍길동");
        // 부족한 인수는 undefined > 오류가 나지 않는다.
        introName();
        // 배열과 같은 인수를 넣지 않았을 경우 type 에러가 날 수 있다.
        avrg();  // if문으로 예외를 잡았기 때문에 현재는 에러가 안남

        // 실습 6 
        document.write(`<p>${add()}</p>`);
        document.write(`<p>${add(5)}</p>`);
        document.write(`<p>${add(5,10)}</p>`);
        
        // 기본값 매개변수
        document.write(`<p>${add()}</p>`);
        document.write(`<p>${add(3)}</p>`);
        document.write(`<p>${add(3,2)}</p>`);

        // 예제 - 나머지 매개변수
        document.write(`<p>${sub(10, 2, 3)}</p>`);
        document.write(`<p>${sub(10, 1, 5, 8)}</p>`);

        // arguments 객체
        argument("hi");
        argument("a","b","c");

        // 실습 7
        document.write(addAll(5, 10, 15, 20));
        document.write("<br>");
        document.write(addAllRest(5, 10, 15, 20));
    </script>
</body>
</html>