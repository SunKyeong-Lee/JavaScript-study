<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>24 ch06_이벤트 리스너</title>
    <style>
        p {cursor: pointer;}
    </style>
</head>
<body>
    <h1>이벤트 리스너 등록</h1>
    <h2>객체나 요소의 메소드에 이벤트 리스너를 전달하는 방법</h2>
    <p id="text">
        이벤트 리스너를 통해서 값을 바꿔줍니다<br>
        이 문자열을 클릭해보세요 1
    </p>
    <p id="text2">
        이벤트 리스너를 통해서 값을 바꿔줍니다<br>
        이 문자열을 클릭해보세요 2
    </p>
    <h2 id="text3" style="cursor: pointer;">클릭할 때마다 문자열이 랜덤한 색으로 바뀝니다</h2>
    <div class="container">
        <p id="text4">
            클릭하면 배경색이 바뀝니다<br>
            배경색이 yellowgreen일 때 클릭하면 다른 색으로 바뀝니다<br>
            클릭할 때마다 색이 번갈아가면서 나옵니다<br>
            if문을 사용했습니다
        </p>
    </div>


    <script>
        // 이벤트 리스너를 붙여줄 DOM 객체 가져오기
        const text = document.querySelector("#text");
        // 가져온 DOM 객체에 이벤트 리스너 붙이기
        // 1. 함수 이름을 전달해서 함수 내용 전달하기
        text.addEventListener("click", changeColor);
        // 이벤트 리스너에 들어갈 함수 작성하기
        function changeColor() {
            text.style.color = "tomato";
        }

        // 2. 인수를 가져올 경우 - 익명함수 안에 넣어서 함수 내용을 전달하기
        const text2 = document.querySelector("#text2");
        text2.addEventListener(
            "click",
            function() {
                text2.style.color = "cornflowerblue";
            }
        )

        // 문자열의 색을 랜덤하게 바꾸는 이벤트 리스너
        const text3 = document.querySelector("#text3");
        text3.addEventListener("click", randomColor);
        function randomColor() {
            // 랜덤한 색 - rbg 최대값 256
            let r = Math.floor(Math.random()*256);
            let g = Math.floor(Math.random()*256);
            let b = Math.floor(Math.random()*256);
            // DOM의 속성값은 문자열로 들어가기에
            // 백팁(`)을 이용하여 변수의 값을 가져갈 수 있도록 한다.
            text3.style.color = `rgb(${r},${g},${b})`;

            // 오류가 났다면
            // console.log("1.이벤트 실행 확인");
            // console.log("2.값이 들어가 있는지 확인");
        }

        // 실습 - 배경색을 바꾸는 함수를 작성하고
        // addEventListener()메소드를 사용하여 text객체에 click 이벤트로 추가하기
        const text4 = document.querySelector(".container #text4");
        text4.addEventListener("click", changeBackground);
        function changeBackground() {
            // text4.style.backgroundColor = "yellowgreen";
            
            // if문을 사용하여 배경색이 yellowgreen일 때, 다른 색으로 바꿀 수 있도록 수정하기
            if (text4.style.backgroundColor == "yellowgreen") {
                text4.style.backgroundColor = "wheat";
            } else {
                text4.style.backgroundColor = "yellowgreen";
            }
        }
    </script>
</body>
</html>